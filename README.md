# Flight Visualizer

3D визуализация полетных данных из различных источников (INAV, ArduPilot, Denis/UD) с использованием Three.js.

## Возможности

- **Поддержка форматов**:
  - **INAV BlackBox** (.txt)
  - **ArduPilot/Mission Planner** (.txt логи + .waypoints)
  - **Denis/UD Telemetry** (.dat бинарные логи)
- **3D траектория полета** - цветовая индикация высоты
- **3D модель дрона** - отображение реальной ориентации (roll, pitch, yaw)
- **Три режима камеры**:
  - Top View - вид сверху с OrbitControls
  - Follow - камера следует за дроном
  - FPV - вид от первого лица
- **Контроль воспроизведения** - play/pause, регулировка скорости (0.25x - 4x)
- **Телеметрия в реальном времени** - GPS, высота, скорость, углы, спутники
- **Анализ данных** - статистика, фильтрация выбросов, восстановление траектории

## Установка

### Требования

- Node.js 18+ и npm

### Шаги установки

1. Установите зависимости:

```bash
npm install
```

2. Запустите dev-сервер:

```bash
npm run dev
```

Приложение откроется в браузере по адресу `http://localhost:5173`

## Использование

### Загрузка лог-файла

В приложении доступны три вкладки для разных типов логов:

1. **INAV**: Загрузка BlackBox логов (.txt) и опционально GPS файлов.
2. **ArduPilot**: Загрузка логов Mission Planner (.txt) и файлов путевых точек.
3. **ЮД (Denis)**: Загрузка бинарных логов телеметрии (.dat).

### Управление

- **Мышь** (в режиме Top View):
  - Левая кнопка - вращение
  - Правая кнопка - панорамирование
  - Колесико - зум

- **Воспроизведение**:
  - Play/Pause кнопка
  - Ползунок временной шкалы
  - Регулятор скорости (0.25x - 4x)

- **Камера**:
  - Top - вид сверху с ручным управлением
  - Follow - автоматическое следование за дроном
  - FPV - вид из кокпита

## Структура проекта

```
flight-visualizer/
├── src/
│   ├── parsers/
│   │   ├── inavLogParser.js     # Парсер INAV
│   │   ├── missionPlannerParser.js # Парсер ArduPilot
│   │   ├── denisLogParser.js    # Парсер Denis (UD)
│   │   └── ...
│   ├── scene/                   # 3D сцена (Three.js)
│   ├── controls/                # Управление камерой и воспроизведением
│   ├── ui/                      # Интерфейсные элементы
│   └── main.js                  # Точка входа
├── docs/                        # Документация
├── public/                      # Статические ресурсы
├── index.html
└── vite.config.js
```

## Документация

Подробная документация по интеграции специфичных форматов:
- [Denis (UD) Integration](docs/DENIS_INTEGRATION.md)

## Лицензия

MIT
